[{"C:\\Users\\Tom\\Sync\\Dev\\BeatIt\\src\\index.js":"1","C:\\Users\\Tom\\Sync\\Dev\\BeatIt\\src\\App.js":"2","C:\\Users\\Tom\\Sync\\Dev\\BeatIt\\src\\serviceWorkerRegistration.js":"3","C:\\Users\\Tom\\Sync\\Dev\\BeatIt\\src\\reportWebVitals.js":"4","C:\\Users\\Tom\\Sync\\Dev\\BeatIt\\src\\pages\\Home.jsx":"5","C:\\Users\\Tom\\Sync\\Dev\\BeatIt\\src\\cmps\\AppHeader.jsx":"6","C:\\Users\\Tom\\Sync\\Dev\\BeatIt\\src\\services\\padService.js":"7","C:\\Users\\Tom\\Sync\\Dev\\BeatIt\\src\\cmps\\PadList.jsx":"8","C:\\Users\\Tom\\Sync\\Dev\\BeatIt\\src\\cmps\\PadPreview.jsx":"9","C:\\Users\\Tom\\Sync\\Dev\\BeatIt\\src\\services\\utilService.js":"10"},{"size":492,"mtime":1619446154273,"results":"11","hashOfConfig":"12"},{"size":314,"mtime":1619542178262,"results":"13","hashOfConfig":"12"},{"size":5064,"mtime":499162500000,"results":"14","hashOfConfig":"12"},{"size":364,"mtime":499162500000,"results":"15","hashOfConfig":"12"},{"size":5649,"mtime":1619631481298,"results":"16","hashOfConfig":"12"},{"size":4953,"mtime":1619624422933,"results":"17","hashOfConfig":"12"},{"size":1817,"mtime":1619605850894,"results":"18","hashOfConfig":"12"},{"size":590,"mtime":1619616841798,"results":"19","hashOfConfig":"12"},{"size":2405,"mtime":1619622758051,"results":"20","hashOfConfig":"12"},{"size":1043,"mtime":1619546238330,"results":"21","hashOfConfig":"12"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},"i29mgb",{"filePath":"25","messages":"26","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"41"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},"C:\\Users\\Tom\\Sync\\Dev\\BeatIt\\src\\index.js",[],["44","45"],"C:\\Users\\Tom\\Sync\\Dev\\BeatIt\\src\\App.js",[],"C:\\Users\\Tom\\Sync\\Dev\\BeatIt\\src\\serviceWorkerRegistration.js",[],"C:\\Users\\Tom\\Sync\\Dev\\BeatIt\\src\\reportWebVitals.js",[],"C:\\Users\\Tom\\Sync\\Dev\\BeatIt\\src\\pages\\Home.jsx",[],"C:\\Users\\Tom\\Sync\\Dev\\BeatIt\\src\\cmps\\AppHeader.jsx",[],"C:\\Users\\Tom\\Sync\\Dev\\BeatIt\\src\\services\\padService.js",[],"C:\\Users\\Tom\\Sync\\Dev\\BeatIt\\src\\cmps\\PadList.jsx",[],"C:\\Users\\Tom\\Sync\\Dev\\BeatIt\\src\\cmps\\PadPreview.jsx",["46"],"import { useEffect, useRef } from \"react\"\r\n\r\nexport const PadPreview = ({ pad, activeTrackIds, manageQueue,\r\n    isPlaying, toggleIsPlaying, recSettings, handleRec, onRecPlayback }) => {\r\n\r\n    let loopFile = useRef()\r\n    const isPadActive = activeTrackIds &&\r\n        activeTrackIds.some(trackId => trackId === pad._id)\r\n\r\n    useEffect(() => {\r\n        loopFile.current = new Audio(pad.fileUrl)\r\n        if (!recSettings.playbackMode)\r\n            loopFile.current.onended = () => toggleIsPlaying(false)\r\n        // ^ Sets the state of the parent \"Home\" component directly. \r\n        // In most cases could be avoided by simply creating a function in the parent component that does just that, and activating it from child component.\r\n        // Unfortunately, had some issues with that method and this appeared to be the only option to work in this use-case.\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        // Every time the component re-renders,\r\n        // it checks if there is a loop currently playing,\r\n        // and if the pad associated with the component is on (activeId)\r\n        // (\"no current loop\" also means the few millisecond break when track ends)\r\n        setTimeout(async () => {\r\n            if (!isPlaying && isPadActive) {\r\n                toggleIsPlaying(true)\r\n                loopFile.current.currentTime = 0\r\n                await loopFile.current.play()\r\n                recSettings.recIsOn && handleRec()\r\n                if (recSettings.playbackMode) managePlayBackLoop()\r\n            }\r\n        }, 5)\r\n    })\r\n\r\n    const managePlayBackLoop = () => {\r\n        setTimeout(() => onRecPlayback(), loopFile.current.duration * 1000)\r\n    }\r\n\r\n    const onTogglePlay = async () => {\r\n        // In charge of dynamically adding the pad to activeIds / or stopping the track immediately and removing it from activeIds.\r\n        // Happens when manually clicking on pad.\r\n        if (recSettings.playbackMode) return\r\n        if (isPadActive) {\r\n            loopFile.current.pause()\r\n            loopFile.current.currentTime = 0\r\n            toggleIsPlaying(false)\r\n        }\r\n        manageQueue(pad)\r\n    }\r\n\r\n    return <article className={`pad-preview ${isPadActive ? 'active' : recSettings.playbackMode ? 'disabled' : ''}`}>\r\n        <button onClick={onTogglePlay} style={{ backgroundColor: pad.bgc }}>\r\n            <span>{pad.title}</span>\r\n        </button>\r\n    </article>\r\n}","C:\\Users\\Tom\\Sync\\Dev\\BeatIt\\src\\services\\utilService.js",[],{"ruleId":"47","replacedBy":"48"},{"ruleId":"49","replacedBy":"50"},{"ruleId":"51","severity":1,"message":"52","line":17,"column":8,"nodeType":"53","endLine":17,"endColumn":10,"suggestions":"54"},"no-native-reassign",["55"],"no-negated-in-lhs",["56"],"react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'pad.fileUrl', 'recSettings.playbackMode', and 'toggleIsPlaying'. Either include them or remove the dependency array. If 'toggleIsPlaying' changes too often, find the parent component that defines it and wrap that definition in useCallback.","ArrayExpression",["57"],"no-global-assign","no-unsafe-negation",{"desc":"58","fix":"59"},"Update the dependencies array to be: [pad.fileUrl, recSettings.playbackMode, toggleIsPlaying]",{"range":"60","text":"61"},[870,872],"[pad.fileUrl, recSettings.playbackMode, toggleIsPlaying]"]